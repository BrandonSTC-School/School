{% extends "base.twig" %}
{% block title %}Astro News{% endblock %}

{% block content %}

<h2>ü™ê Space & Astronomy News</h2>

<div class="news-page-wrapper">

    <form method="GET" id="news-filters" action="news.php" style="margin-bottom: 2rem;">
        <div style="display:grid; grid-template-columns:1fr 1fr 1fr 0.5fr; gap:0.8rem;">
            <input type="text" name="search" placeholder="Search..." value="{{ filters.search }}">

            <select name="publisher">
                <option value="">All Sources</option>
                <option value="NASA"   {{ filters.publisher == 'NASA'   ? 'selected' : '' }}>NASA</option>
                <option value="SpaceX" {{ filters.publisher == 'SpaceX' ? 'selected' : '' }}>SpaceX</option>
                <option value="ESA"    {{ filters.publisher == 'ESA'    ? 'selected' : '' }}>ESA</option>
            </select>

            <select name="period">
                <option value="day"   {{ filters.period == 'day'   ? 'selected' : '' }}>Last 24h</option>
                <option value="week"  {{ filters.period == 'week'  ? 'selected' : '' }}>Last 7 Days</option>
                <option value="month" {{ filters.period == 'month' ? 'selected' : '' }}>Last 30 Days</option>
            </select>

            <button class="btn btn-primary" style="width:auto;">Apply</button>
        </div>
    </form>

    <div id="news-container" class="gallery-grid">
        {% for article in articles %}
            {% include 'partials/newsCard.twig' with { article: article } %}
        {% endfor %}
    </div>

    <div id="loader" style="text-align:center; margin:25px 0 40px 0; display:none;">
        <span style="color:#ff3b3b;">Loading more...</span>
    </div>

</div>

<script src="/task2/assets/js/news.js"></script>

{% endblock %}
