{% extends "base.twig" %}
{% block title %}Hidden Images{% endblock %}

{% block content %}
<div class="dashboard-card">
    <h2>ğŸ•¶ï¸ Hidden Images</h2>

    <a href="/task2/phps/gallery.php" class="btn btn-secondary" style="display:inline-block;margin-bottom:10px;">
        â¬… Back to Gallery
    </a>

    <hr>

    <h3>Search & Sort</h3>
    <form method="GET" action="/task2/phps/galleryHidden.php">
        <input name="search" placeholder="Search..." value="{{ search }}">
        
        <select name="sort">
            <option value="newest" {% if sort=='newest' %}selected{% endif %}>Newest First</option>
            <option value="oldest" {% if sort=='oldest' %}selected{% endif %}>Oldest First</option>
            <option value="title_asc" {% if sort=='title_asc' %}selected{% endif %}>Title A-Z</option>
            <option value="title_desc" {% if sort=='title_desc' %}selected{% endif %}>Title Z-A</option>
        </select>

        <button class="btn btn-primary" type="submit">Apply</button>
        <a href="/task2/phps/galleryHidden.php" class="btn-secondary">Reset</a>
    </form>

    <hr>

    <ul class="gallery-grid">
    {% if images|length == 0 %}
        <p class="text-muted">No hidden images ğŸŒ‘</p>
    {% endif %}

    {% for img in images %}
        <li>
            <strong>{{ img.title }}</strong><br>
            <img src="/task2/{{ img.filePath }}" alt="{{ img.title }}">

            <a href="/task2/phps/galleryHidden.php?restore={{ img.id }}" 
               class="btn btn-primary" 
               style="margin-top:5px;display:inline-block;">
               ğŸ” Restore
            </a>
        </li>
    {% endfor %}
    </ul>

    <hr>

    <div style="text-align:center;margin-top:10px;">
        <a href="/task2/dashboard.php" class="btn btn-secondary">â¬… Back to Dashboard</a>
    </div>
</div>
{% endblock %}